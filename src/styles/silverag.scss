@import 'partials/mixins';

/*
 * ag
 * -------
 */

[ag] {
    visibility: hidden;
    /*
     * Justified alignment doesn't affect the last line of text. If there is 
     * only one line, it is the first and last line and won't be justified.
     *
     * Browsers that don't support text-align-last have a second line added by
     * inserting an ::after pseudo-element to force a second line allowing the
     * first line to be justified
     *
     * Since line-height affects multiple lines, setting line-height:0 removes 
     * the extra space created by the second line
     */
    line-height: 0;
    /* IE supports text-align-last */
    line-height: normal\9;
    text-align: justify;
    -moz-text-align-last: justify;
    /*
     * IE requires both text-align:justify and text-align-last:justify in order
     * to justify the last line, whereas, Firefox does not
     */
    -ms-text-align-last: justify;           
    /*
     * Setting a low negative letter-spacing value removes the white space 
     * between inline-block elements (cels) and may cause adjacent cels to 
     * overlap
     *
     * Using text-align:justify distributes cels evenly across their parent 
     * preventing cel overlap that may have been caused by negative letter 
     * spacing
     *
     * This allows two cels that have a width of 50%, for instance, to be flush 
     * with one another without wrapping
     */
    letter-spacing: -.334em;
    /* IE requires a smaller threshold */
    letter-spacing: -.34em\9;
}

[ag-ready] {
    visibility: visible;
}

[ag~='space:1'],
[ag~='space:2'],
[ag~='space:3'],
[ag~='space:4'],
[ag~='space:5'] {
    /*
     * Firefox doesn't align the last cels right edge in each line with the 
     * parent containers right edge if cel widths don't add up to 100% and the
     * letter-spacing value is less than -.25em
     * 
     * This applies to grid layouts and does not affect the last line
     * 
     * The value -.25em also yields more consistent results in webkit browsers
     * when setting smaller percentage widths to yield bigger gap sizes
     */
    letter-spacing: -.25em;
    /* IE */
    letter-spacing: -.34em\9;
}

/*
 * Browsers that don't support text-align-last will have a second line added by 
 * inserting an ::after pseudo-element to force a second line
 */
[ag]::after {
    content: '';
    display: inline-block;
    /* IE supports text-align-last */
    display: none\9;
    /* Force a second line */
    width: 100%;
    /* Remove extra space in webkit browsers */
    vertical-align: top;
}

@-moz-document url-prefix() {
    [ag] {
        /* Firefox supports text-align-last */
        line-height: normal;
    }
    [ag]::after {
        /* Firefox supports text-align-last */
        display: none;
    }
}


/* 
 * ag-cel
 * ------
 */

[ag] > [ag-cel] {
    @include boxSizing('border-box');
    min-height: 100%;
    vertical-align: top;
    /* Reset the following */
    text-align: left;
    -moz-text-align-last: auto;
    -ms-text-align-last: auto;
    letter-spacing: normal;
}

/* Reset line-height with a low specificity making it easy to override */
[ag-cel] {
    line-height: 1.5;
}

[ag-cel='hide'] {
    display: none;
}

[ag]:not([ag-res]) > [ag-cel] {
    display: inline-block;
}

[ag]:not([ag-res]) > [ag-cel='show'] {
    display: none;
}

/* IE8 */
@media \0screen {
    [ag] > [ag-cel] {
        display: inline-block;
    }
    [ag] > [ag-cel='show'] {
        display: none;
    }
}


/* 
 * align 
 * -------- 
 */

[ag~='align:t'] > [ag-cel],
[ag~='align:t'] > [ag-line] {
    vertical-align: top;
}

[ag~='align:m'] > [ag-cel],
[ag~='align:m'] > [ag-line] {
    vertical-align: middle;
}

[ag~='align:b'] > [ag-cel],
[ag~='align:b'] > [ag-line] {
    vertical-align: bottom;
}

[ag~='align:t'] > [ag-cel],
[ag~='align:m'] > [ag-cel],
[ag~='align:b'] > [ag-cel] {
    min-height: 0;
}


/*
 * flip 
 * -------
 */

[ag~='flip'] {
    direction: rtl;
}

[ag~='flip'] > [ag-cel] {
    direction: ltr;
}


/* 
 * ag-line
 * -------
 */
 
[ag-line] {
	display: inline-block;
	width: 0;
	background: #ccc;
	vertical-align: top;
}

[ag~='lines'] > [ag-line],
[ag~='lines:hide:1'] > [ag-line],
[ag~='lines:hide:2'] > [ag-line],
[ag~='lines:hide:3'] > [ag-line],
[ag~='lines:hide:4'] > [ag-line],
[ag~='lines:hide:5'] > [ag-line],
[ag~='lines:hide:6'] > [ag-line],
[ag~='lines:hide:7'] > [ag-line],
[ag~='lines:hide:8'] > [ag-line],
[ag~='lines:hide:9'] > [ag-line],
[ag~='lines:show:1'] > [ag-line='1'],
[ag~='lines:show:2'] > [ag-line='2'],
[ag~='lines:show:3'] > [ag-line='3'],
[ag~='lines:show:4'] > [ag-line='4'],
[ag~='lines:show:5'] > [ag-line='5'],
[ag~='lines:show:6'] > [ag-line='6'],
[ag~='lines:show:7'] > [ag-line='7'],
[ag~='lines:show:8'] > [ag-line='8'],
[ag~='lines:show:9'] > [ag-line='9'] {
	width: 1px;
}

[ag~='lines:hide:1'] > [ag-line='1'],
[ag~='lines:hide:2'] > [ag-line='2'],
[ag~='lines:hide:3'] > [ag-line='3'],
[ag~='lines:hide:4'] > [ag-line='4'],
[ag~='lines:hide:5'] > [ag-line='5'],
[ag~='lines:hide:6'] > [ag-line='6'],
[ag~='lines:hide:7'] > [ag-line='7'],
[ag~='lines:hide:8'] > [ag-line='8'],
[ag~='lines:hide:9'] > [ag-line='9'] {
	width: 0;
}


/* 
 * The attribute ag-reflow is added via JavaScript temporarily while a layout is 
 * being resized
 */
[ag-reflow] > [ag-cel],
[ag-reflow] > [ag-line] {
    min-height: 0 !important;
}


@import 'partials/layouts';
@import 'partials/respond';





